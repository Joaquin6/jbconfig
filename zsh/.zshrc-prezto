export ZSH=$HOME/.oh-my-zsh
export ZSH_CUSTOM=$ZSH/custom
export ZDOTDIR=$HOME/.zprezto

export ZSH_THEME="spaceship"

handle-add-path $ZDOTDIR

export ZSH_PLUGINS_ALIAS_TIPS_TEXT="Alias tip: "
export HISTORY_SUBSTRING_SEARCH_HIGHLIGHT_FOUND='fg=green,bold'
export PROMPT_COMMAND="${PROMPT_COMMAND:+$PROMPT_COMMAND ;} history -a"

export POWERLEVEL9K_PROMPT_ON_NEWLINE=true
export POWERLEVEL9K_RPROMPT_ON_NEWLINE=true
export POWERLEVEL9K_MODE='nerdfont-complete'
export POWERLEVEL9K_MULTILINE_FIRST_PROMPT_PREFIX="↱"
export POWERLEVEL9K_MULTILINE_LAST_PROMPT_PREFIX="↳ "
export POWERLEVEL9K_INSTALLATION_PATH=$ZSH_CUSTOM/themes
export POWERLEVEL9K_TIME_FORMAT="%D{\uf017 %H:%M:%S}"

typeset -gA ZSH_HIGHLIGHT_STYLES

source $HOME/.zprezto/init.zsh
source $HOME/.autoenv/activate.sh
source $HOME/.local/share/fonts/*.sh
source $JB_ZSH_BASE/zsh/plugins/zshmarks/init.zsh
source $POWERLEVEL9K_INSTALLATION_PATH/spaceship.zsh-theme
source $JB_ZSH_BASE/zsh/plugins/alias-tips/alias-tips.plugin.zsh
source $JB_ZSH_BASE/zsh/plugins/url-highlighter/url/url-highlighter.zsh

# Theme configuration
# All options must be overridden in your .zshrc file after the theme.
export ZSH_HIGHLIGHT_HIGHLIGHTERS=(main brackets pattern url)
export ZSH_HIGHLIGHT_URL_HIGHLIGHTER_TIMEOUT=4
export ZSH_HIGHLIGHT_STYLES[url-good]='fg=blue,bold'
export ZSH_HIGHLIGHT_STYLES[url-bad]='fg=magenta,bold'
export ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE='fg=green,bold'

# Spaceship Prompt Options -  https://github.com/denysdovhan/spaceship-prompt/blob/master/docs/Options.md
export SPACESHIP_PROMPT_ORDER=(
  user          # Username section
  dir           # Current directory section
  host          # Hostname section
  git           # Git section (git_branch + git_status)
  package       # Package version
  node          # Node.js section
  ruby          # Ruby section
  golang        # Go section
  php           # PHP section
  docker        # Docker section
  aws           # Amazon Web Services section
  venv          # virtualenv section
  pyenv         # Pyenv section
  exec_time     # Execution time
  line_sep      # Line break
  jobs          # Background jobs indicator
  exit_code     # Exit code section
  char          # Prompt character
)
export SPACESHIP_RPROMPT_ORDER=(
	time          # Time stampts section
	battery       # Battery level and status
)
export SPACESHIP_TIME_SHOW=true
export SPACESHIP_TIME_12HR=true

source $JB_ZSH_BASE/zsh/.zsh_aliases
source $JB_ZSH_BASE/zsh/.zsh_functions
source $JB_ZSH_BASE/zsh/plugins/git-aliases/git-aliases.sh

# place this after nvm initialization!
autoload -U add-zsh-hook

add-zsh-hook chpwd load-user-specifics
load-user-specifics

add-zsh-hook chpwd load-nvmrc
load-nvmrc

autoload -Uz promptinit && promptinit
